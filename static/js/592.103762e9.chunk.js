"use strict";(self.webpackChunkprofile_management=self.webpackChunkprofile_management||[]).push([[592],{6305:(e,a,t)=>{t.d(a,{A:()=>i});var l=t(1906),r=t(579);const i=e=>{const{color:a,variant:t="contained",label:i,size:s="small",id:n,children:d,...o}=e;return(0,r.jsxs)(l.A,{variant:t,size:s,color:a||"inherit",id:n+"_button",...o,children:[(0,r.jsx)("span",{id:n+"_button_label",children:i}),d]})}},4592:(e,a,t)=>{t.r(a),t.d(a,{default:()=>z});var l=t(7332),r=t(8903),i=t(2110),s=t(6494),n=t(4496),d=t(3892),o=t(6178),c=t.n(o),m=t(5043),u=t(3216),h=t(899),x=t(6305),p=t(785),b=t(9302),g=t(8390),j=t(446),y=t.n(j),v=t(579);const f=e=>{const a=e.id,t=e.meta.error;return(0,v.jsx)(v.Fragment,{children:e.meta.touched&&(e.meta.error&&(0,v.jsx)(n.A,{id:a+"_text",variant:"body1",color:"error",children:t})||e.meta.warning&&(0,v.jsxs)(n.A,{id:a+"_text",className:"text-danger",variant:"body1",color:"error",children:[" ",e.meta.warning," "]}))})},A=e=>{const{id:a,label:t,format:l="DD/MM/YYYY"}=e,[r,i,s]=(0,d.Mt)(e),n=r.value?y()(r.value):null;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(g.$,{dateAdapter:b.R,children:(0,v.jsx)(p.l,{...r,...e,label:t,format:l,value:n,onChange:e=>s.setValue(e)})}),(0,v.jsx)(f,{meta:i,id:`${a}_form_error`})]})};var N=t(1661);const k=e=>{const[a,t,l]=(0,d.Mt)(e),{id:r,validcharacter:i,invalidcharacter:s,onChange:n}=e,o=e.placeholder;let c=["?",">","<","'",'"',":",";",",","+","-","(",")","*","&","^","%","$","#","{","[","]","}","|","/","=","_","~","\\","`"];i&&(c=c.filter((e=>!i.includes(e)))),s&&s.forEach((e=>c.push(e)));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(N.A,{...a,...e,placeholder:o,className:e.className,disabled:e.disabled,type:e.type?e.type:"text",onChange:a=>{if("tel"===e.type)return!/[a-z]/i.exec(a.target.value)&&l.setValue(a.target.value),void(n&&n(a));e.spaceallowed||""!==a.target.value&&c.some((e=>a.target.value.includes(e)))?void 0!==e.spaceallowed&&!e.spaceallowed||""!==a.target.value&&c.some((e=>a.target.value.includes(e)))||l.setValue(a.target.value):(a.target.value=a.target.value.replace(/ +(?= )/g,""),l.setValue(a.target.value)),n&&n(a)}}),(0,v.jsx)(f,{meta:t,id:r+"_form_error"})]})},_=e=>{const a=e.id,[t,l,r]=(0,d.Mt)(e),i=e.placeholder;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(N.A,{...t,...e,placeholder:i,className:e.className,disabled:e.disabled,type:"number",value:-999===t.value?"":t.value,onKeyDown:a=>{e.isnegativeallowed?("E"===a.key||"+"===a.key||"e"===a.key||"."===a.key)&&a.preventDefault():e.isnegativeanddotallowed?("E"===a.key||"+"===a.key||"e"===a.key)&&a.preventDefault():("E"===a.key||"+"===a.key||"e"===a.key||"."===a.key||"-"===a.key)&&a.preventDefault()},onChange:a=>{a.target.value.length>e.maxLength&&(a.target.value=a.target.value.slice(0,e.maxLength)),r.setValue(isNaN(parseFloat(a.target.value))?-999:parseFloat(a.target.value))}}),(0,v.jsx)(f,{meta:l,id:a+"_form_error"})]})},F="MM/DD/YYYY";var w=t(926);const D={firstName:"",lastName:"",email:"",contactNumber:"",dob:"",age:""},E=h.Ik().shape({firstName:h.Yj().matches(/^[A-Za-z]{3,}$/,"First name must be at least 3 characters long, with no spaces or special characters").required("First name is required"),lastName:h.Yj().matches(/^[A-Za-z]{3,}$/,"Last name must be at least 3 characters long, with no spaces or special characters").required("Last name is required"),email:h.Yj().email("Email must be a valid format").required("Email is required"),contactNumber:h.Yj().matches(/^\d{10}$/,"Contact number must be exactly 10 digits"),age:h.ai().positive("Age must be a positive number").integer("Age must be an integer")}),z=()=>{var e;const{profiles:a,updateProfileById:t,createNewProfile:o}=(0,w.S)(),h=(0,u.Zp)(),p=(null===(e=(0,u.zy)().state)||void 0===e?void 0:e.updatedValues)||null,[b,g]=(0,m.useState)(null);(0,m.useEffect)((()=>{if(p){const e=a.find((e=>e.id===p));e&&g({firstName:e.firstName,lastName:e.lastName,email:e.email,contactNumber:e.contactNumber,dob:e.dob,age:e.age})}else g(D)}),[p,a]);const j=()=>{h("/profile")};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.Ay,{container:!0,alignItems:"center",children:(0,v.jsx)(r.Ay,{item:!0,sx:{m:4},children:(0,v.jsx)(x.A,{startIcon:(0,v.jsx)(l.A,{}),onClick:()=>{h("/profile")},label:"",color:"info",id:"navigate_back"})})}),(0,v.jsx)(d.l1,{initialValues:b,enableReinitialize:!0,validationSchema:E,onSubmit:async e=>{if(p){if(e.dob){let a=c()(e.dob.$d).format(F);e.dob=a}e.id=p,await t(p,e)}else{if(e.dob){let a=c()(e.dob.$d).format(F);e.dob=a}await o(e)}h("/profile")},children:e=>{let{values:a,setFieldValue:t}=e;return(0,v.jsx)(d.lV,{id:"AddEditForm",children:(0,v.jsx)(r.Ay,{container:!0,spacing:3,children:(0,v.jsx)(r.Ay,{item:!0,xs:12,children:(0,v.jsx)(i.A,{children:(0,v.jsx)(s.A,{children:(0,v.jsxs)(r.Ay,{container:!0,spacing:3,children:[(0,v.jsx)(r.Ay,{item:!0,xs:12,children:(0,v.jsx)(n.A,{variant:"h6",color:"primary",display:"flex",justifyContent:"center",alignItems:"center",children:p?"Update Personal Details ":"Add Personal Details"})}),(0,v.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,v.jsx)(d.D0,{name:"firstName",type:"text",id:"firstName_Field",placeholder:"Enter First Name",as:k,InputLabelProps:{shrink:!0},label:"First Name",size:"small",sx:{width:"100%"}})}),(0,v.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,v.jsx)(d.D0,{name:"lastName",type:"text",id:"lastName_Field",placeholder:"Enter Last Name",as:k,InputLabelProps:{shrink:!0},label:"Last Name",size:"small",sx:{width:"100%"}})}),(0,v.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,v.jsx)(d.D0,{name:"email",type:"text",id:"email_Field",placeholder:"Enter Email",as:k,InputLabelProps:{shrink:!0},label:"Email",size:"small",sx:{width:"100%"}})}),(0,v.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,v.jsx)(d.D0,{name:"contactNumber",type:"text",id:"contactNumber_Field",placeholder:"Enter Contact Number",as:_,InputLabelProps:{shrink:!0},label:"Contact Number",size:"small",sx:{width:"100%"}})}),(0,v.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,v.jsx)(d.D0,{name:"age",type:"text",id:"age_Field",placeholder:"Enter Age",InputLabelProps:{shrink:!0},as:_,label:"Age",sx:{width:"100%"},size:"small"})}),(0,v.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,v.jsx)(d.D0,{name:"dob",type:"text",id:"dob_Field",placeholder:"Enter DOB",as:A,disableFuture:!0,sx:{width:"100%"},label:"DOB"})}),(0,v.jsxs)(r.Ay,{container:!0,justifyContent:"flex-end",spacing:2,mt:2,children:[(0,v.jsx)(r.Ay,{item:!0,children:(0,v.jsx)(x.A,{type:"button",variant:"contained",onClick:j,color:"inherit",size:"small",id:"btn_cancel_submit",label:"Cancel"})}),(0,v.jsx)(r.Ay,{item:!0,children:(0,v.jsx)(x.A,{type:"submit",variant:"contained",color:"primary",form:"AddEditForm",size:"small",id:"btn_Filter_submit",label:"Submit"})})]})]})})})})})})}})]})}}}]);
//# sourceMappingURL=592.103762e9.chunk.js.map